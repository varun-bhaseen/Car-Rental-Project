{% extends "layout.html" %} {% block body %} {% if session.dealer_logged_in %}

<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <h3>vehicles being reserved</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>
                        vehicle ID
                    </th>
                    <th>
                        vehicle Copy
                    </th>
                    <th>
                        reservation Date
                    </th>
                    <th>
                        Expected Return
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for row in brows %}
                <tr>
                    <td>
                        {{ row['vehicle_id'] }}
                    </td>
                    <td>
                        {{ row['vehicle_copy'] }}
                    </td>
                    <td>
                        {{ row['reservation_date'] }}
                    </td>
                    <td>
                        {{ row['exp_return'] }}
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-2"></div>
</div>

<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <h3>vehicles at other dealers</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>
                        vehicle ID
                    </th>
                    <th>
                        vehicle Copy
                    </th>
                    <th>
                        Current Location
                    </th>
                    <th>
                        Action
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for row in arows %}
                <tr>
                    <td>
                        {{ row['vehicle_id'] }}
                    </td>
                    <td>
                        {{ row['vehicle_copy'] }}
                    </td>
                    <td>
                        {{ row['curr_location'] }}
                    </td>
                    <td>
                        <a class="btn btn-primary btn-sm" href="{{ url_for('retrieve', vehicle_id=row['vehicle_id'], vehicle_copy=row['vehicle_copy'] ) }}" role="button">Retrieve</a>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-2"></div>
</div>

<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <h3>vehicles Home</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>
                        vehicle name
                    </th>
                    <th>
                        vehicle ID
                    </th>
                    <th>
                        vehicle Copy
                    </th>
                    <th>
                        Current Location
                    </th>
                    <th>
                        Belongs to
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for row in rows %}
                <tr>
                    <td>
                        {{ row['vehicle_name'] }}
                    </td>
                    <td>
                        {{ row['vehicle_id'] }}
                    </td>
                    <td>
                        {{ row['vehicle_copy'] }}
                    </td>
                    <td>
                        {{ row['curr_location'] }}
                    </td>
                    <td>
                        {{ row['dealer_id'] }}
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-2"></div>
</div>

<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <h3>Arriving Orders</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>
                        From dealer
                    </th>
                    <th>
                        vehicle ID
                    </th>
                    <th>
                        vehicle Copy
                    </th>
                    <th>
                        Order Date
                    </th>
                    <th>
                        Delivery Date
                    </th>
                    <th>
                        Status
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for row in orders %}
                <tr>
                    <td>
                        {{ row['from_dealer'] }}
                    </td>
                    <td>
                        {{ row['vehicle_id'] }}
                    </td>
                    <td>
                        {{ row['vehicle_copy'] }}
                    </td>
                    <td>
                        {{ row['order_date'] }}
                    </td>
                    <td>
                        {{ row['delivery_date'] }}
                    </td>
                    <td>
                        {{ row['vehicle_status'] }}
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-2"></div>
</div>

<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <h3>Completed Orders</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>
                        From dealer
                    </th>
                    <th>
                        vehicle ID
                    </th>
                    <th>
                        vehicle Copy
                    </th>
                    <th>
                        Order Date
                    </th>
                    <th>
                        Delivery Date
                    </th>
                    <th>
                        Status
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for row in corders %}
                <tr>
                    <td>
                        {{ row['from_dealer'] }}
                    </td>
                    <td>
                        {{ row['vehicle_id'] }}
                    </td>
                    <td>
                        {{ row['vehicle_copy'] }}
                    </td>
                    <td>
                        {{ row['order_date'] }}
                    </td>
                    <td>
                        {{ row['delivery_date'] }}
                    </td>
                    <td>
                        {{ row['vehicle_status'] }}
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                    <td>
                        No Data
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-2"></div>
</div>

{% else %}
<h3> No Access! </h3>
{% endif %} {% endblock %}